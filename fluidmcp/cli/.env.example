# FluidMCP CLI Environment Variables
# Copy this file to .env in the same directory
# These variables are used by the fluidmcp CLI tool

# ============================================================================
# REQUIRED (Conditional)
# ============================================================================

# MongoDB URI - REQUIRED if using 'fluidmcp serve' with MongoDB persistence
# Leave commented to use default: mongodb://localhost:27017
# MONGODB_URI=mongodb://localhost:27017
# MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/?appName=FluidMCP

# GitHub Token - REQUIRED only for cloning private repositories
# FMCP_GITHUB_TOKEN=ghp_yourTokenHere
# GITHUB_TOKEN=ghp_yourTokenHere

# S3 Credentials - REQUIRED only when using --master mode
# Uncomment all 4 to enable S3 sync features
# S3_BUCKET_NAME=your-bucket-name
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_REGION=us-east-1

# ============================================================================
# OPTIONAL (Common Overrides)
# ============================================================================

# Server Ports
# MCP_CLIENT_SERVER_PORT=8090        # Individual package server
# MCP_CLIENT_SERVER_ALL_PORT=8099    # Unified server (all packages)
# MCP_FASTAPI_PORT=8080              # FastAPI proxy

# CORS Configuration
# FMCP_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
# FMCP_ALLOWED_ORIGINS=*

# Package Registry
# MCP_FETCH_URL=https://registry.fluidmcp.com/fetch-mcp-package
# MCP_TOKEN=your-registry-token

# Installation Directory
# MCP_INSTALLATION_DIR=/custom/path/.fmcp-packages

# ============================================================================
# SECURITY (Recommended for Production)
# ============================================================================

# Bearer Token Authentication
# PRODUCTION: Set this to a secure token BEFORE starting the server
# DEVELOPMENT: Leave commented - server will auto-generate and save to ~/.fmcp/tokens/
#
# For production deployments (Railway, Docker, etc.):
#   1. Generate a secure token: openssl rand -base64 32
#   2. Set FMCP_BEARER_TOKEN in your deployment environment
#   3. Start server with: fmcp serve --secure
#   4. All API requests must include: Authorization: Bearer <your-token>
#
# For local development:
#   1. Run: fmcp serve --secure
#   2. Token is auto-generated and displayed in console
#   3. Token is saved to ~/.fmcp/tokens/current_token.txt
#   4. View anytime with: fmcp token show
#
# FMCP_BEARER_TOKEN=your-secure-token-here
# FMCP_SECURE_MODE=true

# ============================================================================
# ADVANCED (Rarely Needed)
# ============================================================================

# MongoDB Timeouts (milliseconds)
# FMCP_MONGODB_SERVER_TIMEOUT=30000
# FMCP_MONGODB_CONNECT_TIMEOUT=10000
# FMCP_MONGODB_SOCKET_TIMEOUT=45000
# FMCP_MONGODB_ALLOW_INVALID_CERTS=false

# LLM & Streaming
# LLM_STREAMING_TIMEOUT=0

# Port Management
# MCP_PORT_RELEASE_TIMEOUT=5

# Memory Mode
# FMCP_MAX_MEMORY_LOGS=10000

# Allowed Commands
# FMCP_ALLOWED_COMMANDS=ls,cat,echo

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# GitHub Codespaces: If you get "Invalid HTTP request received" or 502 errors:
# MCP_CLIENT_SERVER_ALL_PORT=8100
# See docs/TROUBLESHOOTING.md section 9
